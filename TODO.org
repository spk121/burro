#+TITLE: TODO for Burro Engine

* Engine
** DONE Audio file unpacking
   Went with vorbisfile.
** DONE Put pulseaudio loop in game loop
   So pause works and duty cycle works.
** Better directory and game loading handling
   Where should we be looking for jpg, png, and opus files?
   What is doctrinaire?  What is safe?

   I think it should probably be
   - the directory where the script is.
   - or the user data dir $HOME/.local/share/burro
   - or the standard data dirs /usr/local/share/burro or /usr/share/burro
** TODO API vs internal linking
   Need to do the whole __visibility__((default)__,
   __declspec(dllexport) thing.
** Guile port handling
** TODO The big BG rewrite
   BG is a mess.
** Sandbox Debugger
*** Recheck the entry points so that the debugger is only for sandbox
*** Make the debugger its own window
*** BG properties
*** Audio properties
*** Textbox properties and action hotspots
*** Watch
** Make pretty
** Wisp support
** VRAM stability
   When VRAM slots are overwritten, it needs to invalidate BG
   or audio
** Useful backtrace
** C catch handler
   The catch handler in burro_lisp.c doesn't handle all tag types.
** Valgrind: Change canvas->surface to have static data store?
   Use cairo_image_surface_create_for_data() and a static
   data store.
** Keep a console store and watch store even when debug window hidden
* Scheme library
** display, write, and format for sandbox
** Twine helper functions
* Game
** Prototype game in Twine
** Convert to Burro
